<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë™ë¬¼ í•™êµ: ë©ëƒ¥ì´ ë¶„ë¥˜ êµì‹¤</title>
    <link href="https://fonts.googleapis.com/css2?family=Dongle:wght@300;400;700&family=Jua&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FFF4E0;
            --panel-bg: #ffffff;
            --primary: #FFB84C;  /* ë©ë©ì´ ìƒ‰ (ì£¼í™©) */
            --secondary: #A5D7E8; /* ëƒ¥ì´ ìƒ‰ (í•˜ëŠ˜) */
            --accent: #FF6969;   /* í¬ì¸íŠ¸ (ë¶„í™) */
            --text-main: #594545;
        }

        * { box-sizing: border-box; user-select: none; }

        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(#FFE6BC 20%, transparent 20%), 
                radial-gradient(#FFE6BC 20%, transparent 20%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Jua', sans-serif;
            overflow: hidden;
        }

        /* 16:9 ë¹„ìœ¨ ìœ ì§€ ì»¨í…Œì´ë„ˆ */
        #game-frame {
            width: 95vw;
            max-width: 1400px;
            aspect-ratio: 16 / 9;
            background: var(--panel-bg);
            border-radius: 40px;
            box-shadow: 0 20px 50px rgba(89, 69, 69, 0.15);
            border: 8px solid #FFF;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* --- 1. ìƒë‹¨ í—¤ë” --- */
        header {
            height: 80px;
            background: #FFEDD5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            font-size: 1.8rem;
            color: var(--text-main);
        }
        .logo { display: flex; align-items: center; gap: 10px; font-size: 2.2rem; }
        .score-board { 
            background: #fff; padding: 10px 30px; border-radius: 30px; 
            box-shadow: 0 5px 0 rgba(0,0,0,0.05);
            font-size: 1.5rem;
        }
        .level-badge {
            background: var(--accent); color: white; padding: 5px 20px; 
            border-radius: 20px; font-size: 1.2rem; margin-left: 10px;
        }

        /* --- 2. ë©”ì¸ ê²Œì„ ì˜ì—­ --- */
        main {
            flex: 1;
            display: flex;
            padding: 30px;
            gap: 30px;
            background: linear-gradient(to bottom, #fff, #f9f9f9);
        }

        /* [ì™¼ìª½] ë™ë¬¼ ë“±ì¥ êµ¬ì—­ */
        .monitor-section {
            flex: 1;
            background: #E8F3D6;
            border-radius: 30px;
            border: 5px solid #fff;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.05), 0 10px 20px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .camera-label {
            position: absolute; top: 20px; left: 20px;
            background: rgba(0,0,0,0.1); padding: 5px 15px; border-radius: 15px;
            color: #555; font-size: 1.2rem;
        }
        
        #animal-display {
            font-size: 10rem;
            filter: drop-shadow(0 10px 0 rgba(0,0,0,0.1));
            transition: transform 0.3s;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* [ê°€ìš´ë°] AI ë¡œë´‡ & ë¶„ì„ */
        .ai-section {
            flex: 1.2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        /* ë¡œë´‡ ìºë¦­í„° */
        .robot-wrapper {
            position: relative;
            width: 150px; height: 150px;
            display: flex; justify-content: center; align-items: center;
            font-size: 6rem;
            animation: float 3s infinite ease-in-out;
        }
        .robot-thought {
            position: absolute; top: -60px; right: -80px;
            background: #fff; padding: 15px 25px; border-radius: 20px;
            border: 3px solid var(--text-main);
            font-size: 1.3rem; white-space: nowrap;
            box-shadow: 5px 5px 0 rgba(0,0,0,0.1);
        }
        .robot-thought::after {
            content: ''; position: absolute; bottom: -10px; left: 20px;
            border-width: 10px 10px 0; border-style: solid;
            border-color: var(--text-main) transparent; display: block; width: 0;
        }

        /* íŠ¹ì§• ë¶„ì„ íŒ¨ë„ */
        .analysis-panel {
            width: 100%;
            background: #fff;
            border-radius: 25px;
            padding: 20px;
            border: 3px solid #eee;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        .feature-row {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 12px; font-size: 1.4rem; color: #777;
            padding: 8px 15px; border-radius: 15px; background: #fafafa;
        }
        .feature-row.active {
            background: #FFF8E1; color: var(--text-main); font-weight: bold;
            transform: scale(1.02); transition: 0.3s;
            border: 2px solid var(--primary);
        }
        .check-icon { opacity: 0; transition: 0.3s; }
        .active .check-icon { opacity: 1; color: #2ecc71; }

        /* [ì˜¤ë¥¸ìª½] ì •ë‹µ ì„ íƒ êµ¬ì—­ */
        .control-section {
            flex: 0.8;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 20px;
        }

        .btn-choice {
            flex: 1;
            border: none;
            border-radius: 25px;
            font-family: 'Jua', sans-serif;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: 0 10px 0 rgba(0,0,0,0.1);
            color: white;
            opacity: 0.7; pointer-events: none; /* AI ìƒê° ì¤‘ì—” ë¹„í™œì„± */
        }
        .btn-choice.active { opacity: 1; pointer-events: auto; transform: translateY(-5px); }
        .btn-choice:active { transform: translateY(5px); box-shadow: none; }

        .btn-dog { background: var(--primary); }
        .btn-cat { background: var(--secondary); }
        
        .btn-icon { font-size: 3rem; margin-bottom: 10px; }

        /* --- ì˜¤ë²„ë ˆì´ (ì‹œì‘/ì¢…ë£Œ í™”ë©´) --- */
        .overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 100; text-align: center;
        }
        .overlay h1 { font-size: 4rem; color: var(--text-main); margin-bottom: 10px; }
        .overlay p { font-size: 1.8rem; color: #888; margin-bottom: 40px; }
        .start-btn {
            background: var(--accent); color: white; font-size: 2rem; padding: 15px 60px;
            border: none; border-radius: 50px; cursor: pointer; font-family: 'Jua';
            box-shadow: 0 10px 0 #D44D4D; transition: 0.2s;
        }
        .start-btn:hover { transform: scale(1.05); }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

    </style>
</head>
<body>

<div id="game-frame">
    <header>
        <div class="logo">ğŸ« AI ë™ë¬¼ í•™êµ</div>
        <div>
            <span class="score-board">í•™ìŠµ ë°ì´í„°: <span id="score" style="color:var(--accent)">0</span>ì¥</span>
            <span class="level-badge">Lv.<span id="level">1</span> ì•„ê¸° ë¡œë´‡</span>
        </div>
    </header>

    <main>
        <div class="monitor-section">
            <div class="camera-label">ğŸ“· ì‹¤ì‹œê°„ ì¹´ë©”ë¼</div>
            <div id="animal-display">ğŸ¶</div>
        </div>

        <div class="ai-section">
            <div class="robot-wrapper">
                <div id="robot-face">ğŸ¤–</div>
                <div class="robot-thought" id="robot-msg">ì–´ë–¤ ë™ë¬¼ì´ì§€?</div>
            </div>

            <div class="analysis-panel">
                <div style="font-size:1.5rem; margin-bottom:15px; color:#555;">ğŸ” íŠ¹ì§• ë¶„ì„ (Feature Extraction)</div>
                
                <div class="feature-row" id="feat-ears">
                    <span>ğŸ‘‚ ê·€ ëª¨ì–‘</span>
                    <span class="check-icon" id="res-ears">?</span>
                </div>
                <div class="feature-row" id="feat-sound">
                    <span>ğŸ¤ ìš¸ìŒ ì†Œë¦¬</span>
                    <span class="check-icon" id="res-sound">?</span>
                </div>
                <div class="feature-row" id="feat-tail">
                    <span>ğŸ§£ í„¸/ê¼¬ë¦¬</span>
                    <span class="check-icon" id="res-tail">?</span>
                </div>
            </div>
        </div>

        <div class="control-section">
            <button class="btn-choice btn-dog" id="btn-dog" onclick="teachAI('dog')">
                <div class="btn-icon">ğŸ¶</div>
                ê°•ì•„ì§€ì•¼!
            </button>
            <button class="btn-choice btn-cat" id="btn-cat" onclick="teachAI('cat')">
                <div class="btn-icon">ğŸ±</div>
                ê³ ì–‘ì´ì•¼!
            </button>
        </div>
    </main>

    <div class="overlay" id="start-screen">
        <h1>ğŸ¶ AI ë™ë¬¼ í•™êµ ğŸ±</h1>
        <p>
            ì•„ê¸° ë¡œë´‡ì´ ë™ë¬¼ë“¤ì„ êµ¬ë³„í•  ìˆ˜ ìˆê²Œ<br>
            ì„ ìƒë‹˜ì´ ë˜ì–´ ì •ë‹µì„ ì•Œë ¤ì£¼ì„¸ìš”!
        </p>
        <button class="start-btn" onclick="gameStart()">ìˆ˜ì—… ì‹œì‘í•˜ê¸°</button>
    </div>
</div>

<script>
    // --- ê²Œì„ ë°ì´í„° ---
    const animals = {
        dog: [
            { icon: 'ğŸ¶', ears: 'ì ‘íŒ ê·€/ì‘ì€ ê·€', sound: 'ë©ë©!', tail: 'ì‚´ë‘ì‚´ë‘' },
            { icon: 'ğŸ•', ears: 'ì«‘ê¸‹í•œ ê·€', sound: 'ì™ˆì™ˆ!', tail: 'í”ë“¤í”ë“¤' },
            { icon: 'ğŸ©', ears: 'ê³±ìŠ¬ê³±ìŠ¬ ê·€', sound: 'ì»¹ì»¹!', tail: 'ë³µìŠ¬ë³µìŠ¬' }
        ],
        cat: [
            { icon: 'ğŸ±', ears: 'ë¾°ì¡±í•œ ì„¸ëª¨ ê·€', sound: 'ì•¼ì˜¹~', tail: 'ì‚´ê¸ˆì‚´ê¸ˆ' },
            { icon: 'ğŸˆ', ears: 'ì«‘ê¸‹í•œ ì„¸ëª¨ ê·€', sound: 'ëƒì•™~', tail: 'ìš°ì•„í•˜ê²Œ' },
            { icon: 'ğŸ˜½', ears: 'ì ‘íŒ ê·€(í´ë“œ)', sound: 'ê·¸ë¥´ë¦‰...', tail: 'ì–Œì „í•˜ê²Œ' }
        ]
    };

    let score = 0;
    let level = 1;
    let currentType = ''; 
    let currentData = null;

    function gameStart() {
        document.getElementById('start-screen').style.display = 'none';
        nextProblem();
    }

    function nextProblem() {
        // 1. ì´ˆê¸°í™”
        resetUI();

        // 2. ëœë¤ ë™ë¬¼ ì„ íƒ
        currentType = Math.random() < 0.5 ? 'dog' : 'cat';
        const list = animals[currentType];
        currentData = list[Math.floor(Math.random() * list.length)];

        // 3. ë™ë¬¼ ë“±ì¥
        document.getElementById('animal-display').innerText = currentData.icon;
        
        // 4. AI ë¶„ì„ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ (1.5ì´ˆ ë™ì•ˆ ìƒê°)
        simulateAnalysis();
    }

    function resetUI() {
        document.getElementById('robot-face').innerText = "ğŸ¤–";
        document.getElementById('robot-msg').innerText = "ìŒ... íŠ¹ì§•ì„ ì‚´í´ë³¼ê¹Œ?";
        
        // ë¶„ì„ì°½ ì´ˆê¸°í™”
        ['ears', 'sound', 'tail'].forEach(f => {
            const row = document.getElementById('feat-'+f);
            row.classList.remove('active');
            document.getElementById('res-'+f).innerText = "?";
        });

        // ë²„íŠ¼ ë¹„í™œì„±í™”
        document.getElementById('btn-dog').classList.remove('active');
        document.getElementById('btn-cat').classList.remove('active');
    }

    function simulateAnalysis() {
        // 0.5ì´ˆë§ˆë‹¤ í•˜ë‚˜ì”© íŠ¹ì§• ë°œê²¬ ì—°ì¶œ
        setTimeout(() => showFeature('ears', currentData.ears), 500);
        setTimeout(() => showFeature('sound', currentData.sound), 1000);
        setTimeout(() => showFeature('tail', currentData.tail), 1500);

        // ë¶„ì„ ì™„ë£Œ í›„ ë²„íŠ¼ í™œì„±í™”
        setTimeout(() => {
            document.getElementById('robot-face').innerText = "ğŸ’¡";
            document.getElementById('robot-msg').innerText = "ì•Œì•˜ë‹¤! ì •ë‹µì„ ì•Œë ¤ì¤˜!";
            document.getElementById('btn-dog').classList.add('active');
            document.getElementById('btn-cat').classList.add('active');
        }, 2000);
    }

    function showFeature(id, text) {
        const row = document.getElementById('feat-' + id);
        row.classList.add('active');
        const res = document.getElementById('res-' + id);
        res.innerText = text; // íŠ¹ì§• í…ìŠ¤íŠ¸ í‘œì‹œ
    }

    function teachAI(userChoice) {
        // ë²„íŠ¼ì´ í™œì„±í™”ë˜ì§€ ì•Šì•˜ìœ¼ë©´ í´ë¦­ ë¬´ì‹œ
        if (!document.getElementById('btn-' + userChoice).classList.contains('active')) return;

        if (userChoice === currentType) {
            // ì •ë‹µ
            score++;
            document.getElementById('score').innerText = score;
            
            // ë¡œë´‡ ë°˜ì‘
            document.getElementById('robot-face').innerText = "ğŸ¥°";
            document.getElementById('robot-msg').innerText = "ê³ ë§ˆì›Œ! ë°°ì› ì–´! (ë°ì´í„° ì €ì¥)";
            
            // ë ˆë²¨ì—… ì²´í¬
            checkLevelUp();

        } else {
            // ì˜¤ë‹µ
            document.getElementById('robot-face').innerText = "ğŸ˜µâ€ğŸ’«";
            document.getElementById('robot-msg').innerText = "ìœ¼ì•™! í—·ê°ˆë ¤! (ì˜¤ë¥˜ ë°œìƒ)";
        }

        // ë‹¤ìŒ ë¬¸ì œë¡œ
        setTimeout(nextProblem, 1500);
    }

    function checkLevelUp() {
        if (score === 5) {
            level = 2;
            document.getElementById('robot-face').innerText = "ğŸš€";
            alert("ì¶•í•˜í•©ë‹ˆë‹¤! ë¡œë´‡ì´ [ì–´ë¦°ì´ ë¡œë´‡]ìœ¼ë¡œ ì§„í™”í–ˆìŠµë‹ˆë‹¤!");
        } else if (score === 10) {
            level = 3;
            document.getElementById('robot-face').innerText = "ğŸ“";
            alert("ëŒ€ë‹¨í•´ìš”! ë¡œë´‡ì´ [ë°•ì‚¬ ë¡œë´‡]ìœ¼ë¡œ ì§„í™”í–ˆìŠµë‹ˆë‹¤!");
        }
        document.getElementById('level').innerText = level;
    }

</script>

</body>
</html>
