<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ê¸‰ ìë¦¬ ë°°ì¹˜ - ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜</title>
    <style>
        /* --- CSS ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: 'SF Pro Display', 'Segoe UI', Arial, sans-serif; /* Apple í°íŠ¸ ìœ ì‚¬ */
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #a8dadc 0%, #457b9d 100%); /* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ë°°ê²½ */
            color: #333;
            padding: 20px;
            box-sizing: border-box; /* íŒ¨ë”©ì´ ë„ˆë¹„ì— í¬í•¨ë˜ë„ë¡ */
        }

        h1 {
            color: #fff; /* í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2); /* í…ìŠ¤íŠ¸ ê·¸ë¦¼ì */
        }

        /* ë‹¨ê³„ë³„ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ - ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ í•µì‹¬ */
        .step-container {
            background: rgba(255, 255, 255, 0.15); /* ë°˜íˆ¬ëª… í°ìƒ‰ ë°°ê²½ */
            backdrop-filter: blur(10px); /* ë°°ê²½ ë¸”ëŸ¬ íš¨ê³¼ */
            -webkit-backdrop-filter: blur(10px); /* Safari ì§€ì› */
            border: 1px solid rgba(255, 255, 255, 0.3); /* ë°ì€ í…Œë‘ë¦¬ */
            border-right-color: rgba(255, 255, 255, 0.2);
            border-bottom-color: rgba(255, 255, 255, 0.2);
            border-radius: 15px; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15); /* ê·¸ë¦¼ì */
            padding: 25px;
            margin-bottom: 25px;
            width: 100%;
            max-width: 800px;
            box-sizing: border-box;
            color: #f8f9fa; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë°ê²Œ */
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .step-container h2 {
            color: #fff;
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3); /* ì œëª© ì•„ë˜ êµ¬ë¶„ì„  */
            padding-bottom: 10px;
        }

        /* ë²„íŠ¼ ë° ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        input[type="number"], input[type="text"] {
            padding: 12px;
            margin-right: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.2); /* ì…ë ¥ì°½ë„ ë°˜íˆ¬ëª… */
            color: #fff;
            font-size: 16px;
            transition: border-color 0.3s, background-color 0.3s;
            box-sizing: border-box;
        }
        input[type="number"]::placeholder, input[type="text"]::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        input[type="number"]:focus, input[type="text"]:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.7);
            background: rgba(255, 255, 255, 0.3);
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            color: white;
            background-color: rgba(0, 123, 255, 0.7); /* ë²„íŠ¼ë„ ë°˜íˆ¬ëª… */
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s, transform 0.1s ease;
        }

        button:hover {
            background-color: rgba(0, 123, 255, 0.9);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px); /* ì‚´ì§ ì˜¬ë¼ê°€ëŠ” íš¨ê³¼ */
        }
        button:active {
            transform: translateY(0);
        }

        /* í•™ìƒ ì´ë¦„ ì…ë ¥ ì˜ì—­ */
        #studentInputs {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
        }

        #studentInputs input {
            flex: 0 0 calc(25% - 9px); /* í•œ ì¤„ì— 4ê°œ */
            min-width: 100px;
        }
        @media (max-width: 768px) {
            #studentInputs input {
                flex: 0 0 calc(50% - 6px); /* ì¢ì€ í™”ë©´ì—ì„œëŠ” 2ê°œ */
            }
        }
        @media (max-width: 480px) {
            #studentInputs input {
                flex: 0 0 calc(100% - 0px); /* ë” ì¢ì€ í™”ë©´ì—ì„œëŠ” 1ê°œ */
            }
        }

        /* êµì‹¤ ë°°ì¹˜ë„ ìŠ¤íƒ€ì¼ */
        #classroom {
            display: grid;
            grid-template-columns: repeat(6, 1fr); /* 6ì—´ */
            gap: 10px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1); /* êµì‹¤ ë°°ê²½ë„ ì•½ê°„ íˆ¬ëª…í•˜ê²Œ */
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .desk {
            background: rgba(255, 255, 255, 0.15); /* ì±…ìƒë„ ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            height: 90px;
            display: flex;
            flex-direction: column; /* ì´ë¦„ì„ ìœ„í•´ */
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 14px;
            color: #f8f9fa; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë°ê²Œ */
            user-select: none;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, border-color 0.3s;
        }

        .desk span {
            font-size: 12px;
            opacity: 0.8;
        }

        .assigned-student {
            background: rgba(40, 167, 69, 0.7); /* ë°°ì •ëœ ì±…ìƒ ìƒ‰ìƒ */
            border-color: rgba(255, 255, 255, 0.5);
        }
        .assigned-student::after {
            content: "âœ¨"; /* ë°°ì •ëœ í•™ìƒì—ê²Œ ì‘ì€ ì´ëª¨ì§€ ì¶”ê°€ */
            display: block;
            font-size: 18px;
            margin-top: 5px;
        }

        p {
            color: rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>

    <h1>ğŸ“ í•™ê¸‰ ìë¦¬ ë°°ì¹˜ ì›¹í˜ì´ì§€</h1>

    <div class="step-container">
        <h2>1. í•™ìƒ ìˆ˜ ì…ë ¥</h2>
        <input type="number" id="studentCount" placeholder="í•™ìƒ ìˆ˜ (ìµœëŒ€ 24ëª…)" min="1" max="24">
        <button onclick="generateNameInputs()">ì´ë¦„ ì…ë ¥ì°½ ìƒì„±</button>
    </div>

    <div class="step-container" id="nameInputContainer" style="display: none;">
        <h2>2. í•™ìƒ ì´ë¦„ ì…ë ¥</h2>
        <div id="studentInputs">
            </div>
        <button onclick="showClassroomLayout()" style="margin-top: 15px;">ìë¦¬ ë°°ì¹˜ ì¤€ë¹„</button>
    </div>

    <div class="step-container" id="classroomContainer" style="display: none;">
        <h2>3. êµì‹¤ ë°°ì¹˜ ë° ë°°ì •</h2>
        <button onclick="assignSeats()">ë°°ì •í•˜ê¸°</button>
        <p style="font-style: italic; margin-top: 10px;">(ì±…ìƒì€ 6ì—´ 4í–‰, ì´ 24ê°œë¡œ ê³ ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.)</p>
        <div id="classroom">
            </div>
    </div>


    <script>
        // ë¬´ì‘ìœ„ë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì´ë¦„ ë¦¬ìŠ¤íŠ¸ (ì˜ˆì‹œ)
        const sampleNames = ["ê¹€ì² ìˆ˜", "ì´ì˜í¬", "ë°•ì§€ë¯¼", "ìµœí˜„ìš°", "ì •ì„œì—°", "ì¡°ë¯¼ì¤€", "ìœ¤í•˜ì€", "ê°•ë„ìœ¤", "ì˜¤ì§€ìš°", "í•œì‹œìš°", "ì‹ ì˜ˆì¤€", "ì„œì±„ì›", "ë¬¸ìš°ì§„", "ì†ìœ ì§„", "ë°°ë„í˜„", "ë°±ì§€í˜¸", "êµ¬í•˜ëŠ˜", "ì†¡íƒœì–‘", "ì„ìƒˆë³„", "ì¥ì‚°í•˜", "í—ˆë°”ë‹¤", "ê¶Œê°•ì‚°", "ë‚˜ì€ë¹›", "ë¥˜ë‹¬ë‹˜"];

        // 1ë‹¨ê³„: ì´ë¦„ ì…ë ¥ í•„ë“œ ìƒì„±
        function generateNameInputs() {
            const countInput = document.getElementById('studentCount');
            const studentCount = parseInt(countInput.value);
            const inputContainer = document.getElementById('studentInputs');
            const nameContainer = document.getElementById('nameInputContainer');

            // ìœ íš¨ì„± ê²€ì‚¬
            if (isNaN(studentCount) || studentCount < 1 || studentCount > 24) {
                alert('í•™ìƒ ìˆ˜ëŠ” 1ëª… ì´ìƒ 24ëª… ì´í•˜ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                return;
            }

            // ê¸°ì¡´ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            inputContainer.innerHTML = ''; 

            // ì…ë ¥ í•„ë“œ ë™ì  ìƒì„±
            for (let i = 0; i < studentCount; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                input.id = `studentName${i}`;
                input.placeholder = `í•™ìƒ ${i + 1} ì´ë¦„`;
                
                // ì´ˆê¸° ì´ë¦„ ëœë¤ ìƒì„± (ìš”ì²­ ì‚¬í•­)
                if (i < sampleNames.length) {
                    input.value = sampleNames[i];
                } else {
                     input.value = `í•™ìƒ${i + 1}`;
                }

                inputContainer.appendChild(input);
            }

            nameContainer.style.display = 'block';
            document.getElementById('classroomContainer').style.display = 'none';
        }

        // 2ë‹¨ê³„: êµì‹¤ ë ˆì´ì•„ì›ƒ ì¤€ë¹„
        function showClassroomLayout() {
            const classroomDiv = document.getElementById('classroom');
            classroomDiv.innerHTML = ''; // ê¸°ì¡´ ì±…ìƒ ì´ˆê¸°í™”

            const totalDesks = 24; // 6ì—´ * 4í–‰ ê³ ì •

            for (let i = 0; i < totalDesks; i++) {
                const desk = document.createElement('div');
                desk.className = 'desk';
                desk.id = `desk-${i}`;
                desk.innerHTML = `<span>ì±…ìƒ ${i + 1}</span>`; // ìŠ¤íŒ¬ìœ¼ë¡œ ê°ì‹¸ì„œ ìŠ¤íƒ€ì¼ë§
                classroomDiv.appendChild(desk);
            }

            document.getElementById('classroomContainer').style.display = 'block';
        }


        // 3ë‹¨ê³„: ìë¦¬ ëœë¤ ë°°ì •
        function assignSeats() {
            const countInput = document.getElementById('studentCount');
            const studentCount = parseInt(countInput.value);
            
            if (isNaN(studentCount) || studentCount < 1) {
                 alert('í•™ìƒ ìˆ˜ë¥¼ ë¨¼ì € ì…ë ¥í•˜ê³  ì´ë¦„ì„ ìƒì„±í•´ ì£¼ì„¸ìš”.');
                return;
            }

            const studentNames = [];
            // ì…ë ¥ëœ í•™ìƒ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
            for (let i = 0; i < studentCount; i++) {
                const nameInput = document.getElementById(`studentName${i}`);
                if (nameInput && nameInput.value.trim() !== '') {
                    studentNames.push(nameInput.value.trim());
                }
            }

            if (studentNames.length === 0) {
                alert('í•™ìƒ ì´ë¦„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                return;
            }

            // ì´ë¦„ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ìŠµë‹ˆë‹¤ (Fisher-Yates ì…”í”Œ ì•Œê³ ë¦¬ì¦˜)
            let shuffledNames = [...studentNames];
            for (let i = shuffledNames.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledNames[i], shuffledNames[j]] = [shuffledNames[j], shuffledNames[i]];
            }

            // ëª¨ë“  ì±…ìƒ ì´ˆê¸°í™”
            const totalDesks = 24;
            for (let i = 0; i < totalDesks; i++) {
                const desk = document.getElementById(`desk-${i}`);
                desk.className = 'desk';
                desk.innerHTML = `<span>ì±…ìƒ ${i + 1}</span>`; // ìŠ¤íŒ¬ìœ¼ë¡œ ê°ì‹¸ì„œ ìŠ¤íƒ€ì¼ë§
            }

            // ë¬´ì‘ìœ„ë¡œ ë°°ì •
            // í•™ìƒ ìˆ˜ë§Œí¼ì˜ ì±…ìƒ ì¸ë±ìŠ¤ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒ
            let deskIndices = Array.from({length: totalDesks}, (_, i) => i);
            
            // ì±…ìƒ ì¸ë±ìŠ¤ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ìŒ
            for (let i = deskIndices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deskIndices[i], deskIndices[j]] = [deskIndices[j], deskIndices[i]];
            }
            
            // ì„ì¸ ì±…ìƒ ì¸ë±ìŠ¤ì— í•™ìƒ ì´ë¦„ì„ ìˆœì„œëŒ€ë¡œ ë°°ì •
            for (let i = 0; i < studentNames.length; i++) {
                const deskIndex = deskIndices[i];
                const desk = document.getElementById(`desk-${deskIndex}`);
                
                // ì´ë¦„ ë°°ì • ë° ìŠ¤íƒ€ì¼ ë³€ê²½
                desk.innerHTML = shuffledNames[i]; // ì´ë¦„ë§Œ í‘œì‹œ
                desk.classList.add('assigned-student');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ êµì‹¤ ë ˆì´ì•„ì›ƒ ë¯¸ë¦¬ í‘œì‹œ
        window.onload = function() {
            // ì´ˆê¸° ë¡œë“œ ì‹œì—ëŠ” ìˆ¨ê¹€ ìƒíƒœë¡œ ì‹œì‘í•©ë‹ˆë‹¤.
            document.getElementById('nameInputContainer').style.display = 'none';
            document.getElementById('classroomContainer').style.display = 'none';
        }
    </script>

</body>
    <a href = "project2.html">ê²Œì„2</a>
</html>
